<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Narrative Visualization</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>

  <section id="intro" class="scene">
    <h2>Fuel Efficiency Insights for Your Next Car</h2>
  </section>

  <section id="scene1" class="scene">
    <h2>Scene 1: Horsepower vs. Fuel Efficiency: The Overview</h2>
    <p>Explore the overall trend: higher horsepower leads to lower MPG?</p>
    <div id="scene1-vis"></div>
  <div id="scene1-narration" style="margin-top: 20px; margin-left: 40px; font-size: 20px; max-width: 1150px; text-indent: 20px;">
    In this scene, a scatterplot is constructed in order to show the relationship between horsepower and fuel economy (MPG and MPGe) from 2024 data. It is over the domain of all cars. The columns hpv, comb08, combE are used for horsepower and fuel economy, respectively. combE values are given to electric vehicles in order to be put on the same scale as other vehicles. This value is a measure of how many miles per gallon of gasoline would have the same energy content as a certain amount of electric charge consumed by an electric vehicle (EV). MPGe (Miles Per Gallon Equivalent) was created by the U.S. Environmental Protection Agency (EPA) to assist consumers in comparing the energy consumption of electric vehicles and plug-in hybrid electric vehicles with that of gasoline-powered vehicles. Because electric vehicles do not use gasoline, the MPGe rating is a conversion of the number of kilowatt-hours (kWh) of electricity the vehicle consumes and can be thought of as the number of miles that a vehicle can be driven using the energy equivalent to a gallon of gasoline. While horsepower and fuel economy are generally expected to have an inverse relationship where high horsepower tends to reduce fuel efficiency,the scatterplot below shows a more nuanced interaction shaped by additional factors such as fuel type, manufacturer, and vehicle type.
    <br>Generally, horsepower and MPG typically have an inverse relationship. Conventional gasoline-powered vehicles like the Ford Mustang or Chevrolet Camaro often demonstrate this expected trend: higher horsepower , lower fuel economy. However, this pattern is not absolute. Some models with optimized engines, such as the Honda Civic or Toyota Corolla, manage to strike a reasonable balance between performance and efficiency, especially in their lower trims.
    <br>Hybrid and plug-in hybrid models, including the Toyota Prius, Hyundai Ioniq, and Ford Escape Hybrid, are engineered for fuel efficiency and tend to cluster in regions of the graph that represent moderate horsepower with high MPG. These vehicles illustrate how advancements in hybrid technology allow for respectable performance without compromising efficiency.
    <br>Electric vehicles (EVs), such as the Tesla Model 3, Chevrolet Bolt, and Nissan Leaf, break traditional patterns altogether. Despite having high horsepower, especially in performance versions like the Tesla Model S Plaid, they exhibit outstanding fuel efficiency, often exceeding 100 MPGe. They span a wide range of horsepower values but consistently maintain high MPG values, underscoring the impact of electric drivetrains on fuel efficiency.
    <br>Fuel cell vehicles (FCVs), such as the Hyundai Nexo, also stand out in the plot. Powered by hydrogen, FCVs only emit water vapor and offer high fuel economy (often greater than 55 MPGe) at the cost of moderate horsepower.
  </div>
  </section>

  <section id="scene2" class="scene">
    <h2>Scene 2: Fuel Efficiency and Savings: How Much Can You Save?</h2>
    <p>Discover how fuel efficiency translates into long-term cost savings.</p>

    <div id="scene2-class-buttons" style="margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
    <span style="font-weight: bold; font-size: 16px;">Highlight by:</span>
    <button type="button" data-class="Small Cars" style="padding:6px 12px; font-size: 16px; background-color: white;">Small Cars</button>
    <button type="button" data-class="Midsize Cars" style="padding:6px 12px; font-size: 16px; background-color: white;">Midsize Cars</button>
    <button type="button" data-class="Large Cars" style="padding:6px 12px; font-size: 16px; background-color: white;">Large Cars</button>
    <button type="button" data-class="SUVs" style="padding:6px 12px; font-size: 16px; background-color: white;">SUVs</button>
    <button type="button" data-class="Pickup Trucks" style="padding:6px 12px; font-size: 16px; background-color: white;">Pickup Trucks</button>
    </div>
    <div id="scene2-vis"></div>
  <div id="scene2-narration" style="margin-top: 20px; margin-left: 40px; font-size: 20px; max-width: 1150px; text-indent: 20px;">
    In this scene, we explore how fuel efficiency directly affects long-term cost savings across various types of vehicles: gasoline, hybrid, electric, and FCV. Here used values of comb08, combE, and youSaveSpend (5-Year Fuel Savings) to provide clear insight into economic efficiency. youSaveSpend tells you how much more or less money you will spend on fuel over five years compared to an average new car. A positive value means the vehicle is expected to save money on fuel over five years. With rising fuel prices and growing consumer interest in sustainability, the financial implications of fuel efficiency are more relevant than ever.
    <br>Performance-oriented gasoline vehicles like the Ford Mustang Fastback, with a combined fuel economy near 22 MPG, tend to incur significantly higher fuel costs over time. Its 5-Year Fuel Savings value is approximately –$6,000, indicating that owners can expect to spend $6,000 more on fuel over five years compared to the average new vehicle. This substantial cost difference reflects the Mustang’s powerful engine and sporty design, which prioritize performance over fuel efficiency.
    In contrast, more fuel-efficient gasoline models such as the Toyota Corolla, achieving around 35 MPG, offer a markedly different economic profile. With a 5-Year Fuel Savings of about +$1,000, Corolla drivers can save money on fuel costs relative to the average vehicle, benefiting from its focus on efficiency and practicality.
    This is a good example of the difference in running costs within a certain fuel group. Design factors, from high performance to fuel economy play a crucial role in shaping long-term ownership costs. Understanding these trade-offs is a must when choosing a vehicle.
    <br>Hybrids offer more balance of power and fuel efficiency. Take the Toyota Corolla Hybrid, which typically delivers over 52 MPG. According to EPA data, its 5-Year Fuel Savings is around +$4,000, meaning the owner is expected to save $4,000 in fuel costs over five years compared to the average new vehicle. Similarly, the Honda Accord Hybrid achieves about 48 MPG and offers a 5-Year Fuel Savings of +$3,000, while the Hyundai Ioniq Hybrid leads the class with around 58 MPG and a savings of nearly +$5,000 over five years. Over time, hybrids bridge the gap between affordability and sustainability, making them a smart choice for everyday drivers.
    <br>Electric vehicles still offer impressive fuel savings, even if their MPGe doesn’t exceed 100 in the current dataset. To illustrate the impact, consider a driver switching from a gasoline car with 30 MPG to an EV like the Tesla Model 3 (88 MPGe). That driver would reduce their energy cost per mile by roughly 65–70%. Over a year (assuming 15,000 miles of driving), that could mean $850–$1,100 in annual fuel savings, depending on local electricity and gas prices. Over five years, this adds up to around $4,500–$5,500 in savings. The official 5-Year Fuel Savings (“youSaveSpend”) estimate for the 2024 Tesla Model 3 is close to $5,000, confirming its cost advantage. For drivers aiming to minimize total cost of ownership, EVs are becoming the financially smarter choice especially for those with steady daily commutes.
    <br>In summary, fuel efficiency is not only just an environmental consideration but alos a financial strategy. While gasoline vehicles remain accessible and widely available, hybrids and electric vehicles clearly offer superior long-term savings. 
  </div>
  </section>

  <section id="scene3" class="scene">
    <h2>Scene 3: Explore Specific Car of Interest – Compare with the Average</h2>
    <p>Select a car to see how it compares to others in terms of horsepower and fuel efficiency.</p>

  <div id="scene3-controls" style="margin-bottom: 20px; font-size: 18px;">
    <label for="make-select">Make:</label>
    <select id="make-select" style="margin-right: 20px;"></select>

    <label for="year-select">Year:</label>
    <select id="year-select" style="margin-right: 20px;"></select>

    <label for="model-select">Car Model:</label>
    <select id="model-select" style="margin-right: 20px;"></select>

    <label for="trim-select">Car Trim:</label>
    <select id="trim-select" style="margin-right: 20px;"></select>

    <button id="scene3-search-btn" style="padding: 6px 12px; font-size: 16px;">Search</button>
    
  </div>
    
    <div id="scene3-vis"></div>
    <div id="scene3-narration" style="margin-top: 20px; margin-left: 40px; font-size: 20px; max-width: 1150px;"text-indent: 20px;">
      The comparison is made against the average of vehicles from the same year, type, and class.
    </div>
  </section>

<div id="navigation-buttons" style="text-align: center; margin: 40px 0;">
  <button id="prevBtn" style="padding: 10px 20px; font-size: 18px;">Previous</button>
  <button id="nextBtn" style="padding: 10px 20px; font-size: 18px;">Next</button>
</div>

  <script>
      const scenes = document.querySelectorAll('.scene');
      let currentScene = 0;

      function showScene(index) {
      scenes.forEach((scene, i) => {
      scene.style.display = (i === index) ? 'block' : 'none';
    });

    // 버튼 상태 업데이트
    document.getElementById('prevBtn').disabled = index === 0;
    document.getElementById('nextBtn').disabled = index === scenes.length - 1;
  }

  document.getElementById('prevBtn').addEventListener('click', () => {
    if (currentScene > 0) {
      currentScene--;
      showScene(currentScene);
      window.scrollTo({ top: 0, behavior: 'smooth' }); // 맨 위로 부드럽게 스크롤
    }
  });

  document.getElementById('nextBtn').addEventListener('click', () => {
    if (currentScene < scenes.length - 1) {
      currentScene++;
      showScene(currentScene);
      window.scrollTo({ top: 0, behavior: 'smooth' }); // 맨 위로 부드럽게 스크롤
    }
  });

  // 초기 화면 설정
  showScene(currentScene);
    
  </script>

  <script src="script1.js"></script>
  <script src="script2.js"></script>
  <script src="script3.js"></script>
  
  
</body>
</html>
